{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pacan\\\\Documents\\\\Studia\\\\Nowatorski projekt zespo\\u0142owy\\\\Aplikacja-Pogodowa\\\\src\\\\components\\\\WeatherMapWithLayers.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport './WeatherMap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherMapWithLayers = ({\n  lat,\n  lon\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [currentLayer, setCurrentLayer] = useState('clouds_new');\n  const layerOptions = {\n    clouds_new: 'Chmury',\n    precipitation_new: 'Deszcz',\n    temp_new: 'Temperatura',\n    wind_new: 'Wiatr'\n  };\n  useEffect(() => {\n    if (!lat || !lon) return;\n    const map = L.map('weather-map').setView([lat, lon], 10);\n    mapRef.current = map;\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors'\n    }).addTo(map);\n    const weatherLayer = L.tileLayer(getLayerUrl(currentLayer), {\n      attribution: '© OpenWeatherMap',\n      opacity: 1\n    }).addTo(map);\n    mapRef.current.weatherLayer = weatherLayer;\n    return () => {\n      map.remove();\n    };\n  });\n  useEffect(() => {\n    var _mapRef$current$weath;\n    if (!mapRef.current) return;\n    const newLayer = L.tileLayer(getLayerUrl(currentLayer), {\n      attribution: '© OpenWeatherMap',\n      opacity: 1\n    });\n    (_mapRef$current$weath = mapRef.current.weatherLayer) === null || _mapRef$current$weath === void 0 ? void 0 : _mapRef$current$weath.remove();\n    newLayer.addTo(mapRef.current);\n    mapRef.current.weatherLayer = newLayer;\n  }, [currentLayer]);\n  const getLayerUrl = layerName => `https://tile.openweathermap.org/map/${layerName}/{z}/{x}/{y}.png?appid=${process.env.REACT_APP_WEATHER_API_KEY}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layer-buttons\",\n      children: Object.entries(layerOptions).map(([layer, label]) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: layer === currentLayer ? 'active' : '',\n        onClick: () => setCurrentLayer(layer),\n        children: label\n      }, layer, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"weather-map\",\n      className: \"weather-map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherMapWithLayers, \"GJ3kpFIf70M6rSh3iQZ1EMyofUs=\");\n_c = WeatherMapWithLayers;\nexport default WeatherMapWithLayers;\nvar _c;\n$RefreshReg$(_c, \"WeatherMapWithLayers\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","jsxDEV","_jsxDEV","WeatherMapWithLayers","lat","lon","_s","mapRef","currentLayer","setCurrentLayer","layerOptions","clouds_new","precipitation_new","temp_new","wind_new","map","setView","current","tileLayer","attribution","addTo","weatherLayer","getLayerUrl","opacity","remove","_mapRef$current$weath","newLayer","layerName","process","env","REACT_APP_WEATHER_API_KEY","children","className","Object","entries","layer","label","onClick","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["C:/Users/pacan/Documents/Studia/Nowatorski projekt zespołowy/Aplikacja-Pogodowa/src/components/WeatherMapWithLayers.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport L from 'leaflet';\r\nimport './WeatherMap.css';\r\n\r\nconst WeatherMapWithLayers = ({ lat, lon }) => {\r\n  const mapRef = useRef(null);\r\n  const [currentLayer, setCurrentLayer] = useState('clouds_new');\r\n\r\n  const layerOptions = {\r\n    clouds_new: 'Chmury',\r\n    precipitation_new: 'Deszcz',\r\n    temp_new: 'Temperatura',\r\n    wind_new: 'Wiatr'\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!lat || !lon) return;\r\n\r\n    const map = L.map('weather-map').setView([lat, lon], 10);\r\n    mapRef.current = map;\r\n\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution: '© OpenStreetMap contributors'\r\n    }).addTo(map);\r\n\r\n    const weatherLayer = L.tileLayer(getLayerUrl(currentLayer), {\r\n      attribution: '© OpenWeatherMap',\r\n      opacity: 1\r\n    }).addTo(map);\r\n\r\n    mapRef.current.weatherLayer = weatherLayer;\r\n\r\n    return () => {\r\n      map.remove();\r\n    };\r\n  },);\r\n\r\n  useEffect(() => {\r\n    if (!mapRef.current) return;\r\n\r\n    const newLayer = L.tileLayer(getLayerUrl(currentLayer), {\r\n      attribution: '© OpenWeatherMap',\r\n      opacity: 1\r\n    });\r\n\r\n    mapRef.current.weatherLayer?.remove();\r\n    newLayer.addTo(mapRef.current);\r\n    mapRef.current.weatherLayer = newLayer;\r\n  }, [currentLayer]);\r\n\r\n  const getLayerUrl = (layerName) =>\r\n    `https://tile.openweathermap.org/map/${layerName}/{z}/{x}/{y}.png?appid=${process.env.REACT_APP_WEATHER_API_KEY}`;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"layer-buttons\">\r\n        {Object.entries(layerOptions).map(([layer, label]) => (\r\n          <button\r\n            key={layer}\r\n            className={layer === currentLayer ? 'active' : ''}\r\n            onClick={() => setCurrentLayer(layer)}\r\n          >\r\n            {label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      <div id=\"weather-map\" className=\"weather-map\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeatherMapWithLayers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}