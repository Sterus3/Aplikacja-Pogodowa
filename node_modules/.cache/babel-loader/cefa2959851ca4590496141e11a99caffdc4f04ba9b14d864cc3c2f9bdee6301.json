{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pacan\\\\Documents\\\\Studia\\\\Nowatorski projekt zespo\\u0142owy\\\\Aplikacja-Pogodowa\\\\src\\\\components\\\\WeatherMapWithLayers.js\",\n  _s = $RefreshSig$();\n// src/components/WeatherMapWithLayers.js\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport './WeatherMap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherMapWithLayers = ({\n  lat,\n  lon\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [currentLayer, setCurrentLayer] = useState('clouds_new');\n  const layerOptions = {\n    clouds_new: 'Chmury',\n    precipitation_new: 'Deszcz',\n    temp_new: 'Temperatura',\n    wind_new: 'Wiatr'\n  };\n  useEffect(() => {\n    if (!lat || !lon) return;\n    const map = L.map('weather-map').setView([lat, lon]);\n    mapRef.current = map;\n    const base = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors'\n    }).addTo(map);\n    const weatherLayer = L.tileLayer(getLayerUrl(currentLayer), {\n      attribution: '© OpenWeatherMap',\n      opacity: 0.6\n    }).addTo(map);\n    mapRef.current.weatherLayer = weatherLayer;\n    return () => {\n      map.remove();\n    };\n  });\n  useEffect(() => {\n    var _mapRef$current$weath;\n    if (!mapRef.current) return;\n    const newLayer = L.tileLayer(getLayerUrl(currentLayer), {\n      attribution: '© OpenWeatherMap',\n      opacity: 0.6\n    });\n    (_mapRef$current$weath = mapRef.current.weatherLayer) === null || _mapRef$current$weath === void 0 ? void 0 : _mapRef$current$weath.remove();\n    newLayer.addTo(mapRef.current);\n    mapRef.current.weatherLayer = newLayer;\n  }, [currentLayer]);\n  const getLayerUrl = layerName => `https://tile.openweathermap.org/map/${layerName}/{z}/{x}/{y}.png?appid=${process.env.REACT_APP_WEATHER_API_KEY}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layer-buttons\",\n      children: Object.entries(layerOptions).map(([layer, label]) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: layer === currentLayer ? 'active' : '',\n        onClick: () => setCurrentLayer(layer),\n        children: label\n      }, layer, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"weather-map\",\n      className: \"weather-map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherMapWithLayers, \"GJ3kpFIf70M6rSh3iQZ1EMyofUs=\");\n_c = WeatherMapWithLayers;\nexport default WeatherMapWithLayers;\nvar _c;\n$RefreshReg$(_c, \"WeatherMapWithLayers\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","jsxDEV","_jsxDEV","WeatherMapWithLayers","lat","lon","_s","mapRef","currentLayer","setCurrentLayer","layerOptions","clouds_new","precipitation_new","temp_new","wind_new","map","setView","current","base","tileLayer","attribution","addTo","weatherLayer","getLayerUrl","opacity","remove","_mapRef$current$weath","newLayer","layerName","process","env","REACT_APP_WEATHER_API_KEY","children","className","Object","entries","layer","label","onClick","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["C:/Users/pacan/Documents/Studia/Nowatorski projekt zespołowy/Aplikacja-Pogodowa/src/components/WeatherMapWithLayers.js"],"sourcesContent":["// src/components/WeatherMapWithLayers.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport L from 'leaflet';\r\nimport './WeatherMap.css';\r\n\r\nconst WeatherMapWithLayers = ({ lat, lon }) => {\r\n  const mapRef = useRef(null);\r\n  const [currentLayer, setCurrentLayer] = useState('clouds_new');\r\n\r\n  const layerOptions = {\r\n    clouds_new: 'Chmury',\r\n    precipitation_new: 'Deszcz',\r\n    temp_new: 'Temperatura',\r\n    wind_new: 'Wiatr'\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!lat || !lon) return;\r\n\r\n    const map = L.map('weather-map').setView([lat, lon], );\r\n    mapRef.current = map;\r\n\r\n    const base = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution: '© OpenStreetMap contributors'\r\n    }).addTo(map);\r\n\r\n    const weatherLayer = L.tileLayer(getLayerUrl(currentLayer), {\r\n      attribution: '© OpenWeatherMap',\r\n      opacity: 0.6\r\n    }).addTo(map);\r\n\r\n    mapRef.current.weatherLayer = weatherLayer;\r\n\r\n    return () => {\r\n      map.remove();\r\n    };\r\n  },);\r\n\r\n  useEffect(() => {\r\n    if (!mapRef.current) return;\r\n\r\n    const newLayer = L.tileLayer(getLayerUrl(currentLayer), {\r\n      attribution: '© OpenWeatherMap',\r\n      opacity: 0.6\r\n    });\r\n\r\n    mapRef.current.weatherLayer?.remove();\r\n    newLayer.addTo(mapRef.current);\r\n    mapRef.current.weatherLayer = newLayer;\r\n  }, [currentLayer]);\r\n\r\n  const getLayerUrl = (layerName) =>\r\n    `https://tile.openweathermap.org/map/${layerName}/{z}/{x}/{y}.png?appid=${process.env.REACT_APP_WEATHER_API_KEY}`;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"layer-buttons\">\r\n        {Object.entries(layerOptions).map(([layer, label]) => (\r\n          <button\r\n            key={layer}\r\n            className={layer === currentLayer ? 'active' : ''}\r\n            onClick={() => setCurrentLayer(layer)}\r\n          >\r\n            {label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      <div id=\"weather-map\" className=\"weather-map\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeatherMapWithLayers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}